<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Add authorship metadata and link CSS and JS files -->
    <link rel="stylesheet" href="weeklykitten.css">
    <title>Lab 5 - JavaScript 1</title>
</head>
<body>
    <div class="formcontainer">
        <h1>Weekly Kitten Pictures Subsription</h1>
        <hr>
        <form action="registration.html" id="form" method="get" onsubmit="return validate(event);">
            <!-- You will need to write the validate function for this form. -->

            <div class="textfield">
                <label for="email">Email Address</label>
                <input type="text" name="email" id="email" placeholder="e-mail">
                <div class="error" id="erroremail"></div>
            </div>

            <div class="textfield">
                <label for="login">User Name</label>
                <input type="text" name="login" id="login" placeholder="User name">
                <div class="error" id="errorlogin"></div>
            </div>

            <div class="textfield">
                <label for="pass">Password</label>
                <input type="password" name="pass" id="pass" placeholder="Password">
                <div class="error" id="errorpassword"></div>
            </div>
        
            <div class="textfield">
                <label for="pass2">Re-type Password</label>
                <input type="password" id="pass2" placeholder="Password">
                <div class="error" id="errorpassword2"></div>
            </div>

            <div class="checkbox">
                <input type="checkbox" name="newsletter" id="newsletter">
                <label for="newsletter">I agree to receive Weekly Kitten Pictures newsletters</label>
                <div class="error" id="errornewsletter"></div>
            </div>

            <div class="checkbox">
                <input type="checkbox" name="terms" id="terms">
                <label for="terms">I agree to the terms and conditions</label>
                <div class="error" id="errorterms"></div>
            </div>

            <button type="submit" id="submitBtn">Sign-Up</button>
            <button type="reset">Reset</button>

        </form>
    </div>
    
    <script>
        var login = document.getElementById("login")
        function validate(e)
        {
        //login validation section
            if(login.value==="" || login.value == null || login.value.length < 20)
        {
        document.getElementById("errorlogin").innerHTML = "Invalid login";
        //document.getElementById("errorlogin").innerHTML += login.value.length;
        }

        //e-mail validation section
        var emailPattern = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        var emailText = email.value;
        var emailTest = emailPattern.test(emailText);

        if(!emailTest) {document.getElementById("erroremail").innerHTML = "The e-mail is not valid."}

        //password validation section
        var passwordOne = document.getElementById("pass");
        var passOneValue = passwordOne.value;
        var passPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{6,}$/;
        var passOneTest = passPattern.test(passOneValue);
        //passOneValue.length < 6 ||
            if ( !passOneTest ){
                document.getElementById("errorpassword").innerHTML = "The password should have one uppercase, one lowercase and at least 6 characters."
                document.getElementById("errorpassword").innerHTML += passOneValue.length
                
            }

        e.preventDefault();
        }
        
    </script>
    <noscript>Your browser doesn't support or has disabled JavaScript</noscript>

</body>
</html>